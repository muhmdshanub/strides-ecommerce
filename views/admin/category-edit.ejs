

<%- include('../layouts/admin-header') -%>


   


    <%- include('../layouts/admin-navbar') -%>

        <div class="container tm-mt-big tm-mb-big">
            <div class="row">
                <div class="col-xl-9 col-lg-10 col-md-12 col-sm-12 mx-auto">
                    <div class="tm-bg-primary-dark tm-block tm-block-h-auto">
                        <%- include('../layouts/_messages.ejs') -%>
                            <div class="row">
                                <div class="col-12">
                                    <h2 class="tm-block-title d-inline-block">Add Category</h2>
                                </div>
                            </div>

                            <form action="" class="tm-edit-category-form" method="post" 
                                novalidate>
                                <div class="row tm-edit-category-row">
                                    <div class="col-xl-6 col-lg-6 col-md-12">

                                        <div class="form-group mb-3">
                                            <label for="name">NAME</label>
                                            <input id="name" name="name" type="text"
                                                class="form-control validate" required value="<%= category.name  %>"/>
                                        </div>
                                        
                                        <div class="form-group mb-3">
                                            <label for="description">Description</label>
                                            <textarea name="description" id="description" class="form-control validate"
                                                rows="3" required ><%=category.description %></textarea>
                                        </div>
                                        

                                    <div class="col-12">
                                        <button type="submit" class="btn btn-primary btn-block text-uppercase">Update
                                           Category
                                            Now</button>
                                    </div>

                                </div>
                            </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- Your existing HTML code -->

        <script defer>





            document.addEventListener('DOMContentLoaded', function () {
                console.log('DOM is loaded');

                const form = document.querySelector('.tm-edit-category-form');
                const nameInput = form.elements['name'];
                const descriptionInput = form.elements['description'];
                


                function validateName() {
                    const brand = nameInput.value.trim();
                    if (!brand) {
                        showPopover('name', 'Name cannot be empty.');
                        return false;
                    } else {
                        hidePopover('name');
                        return true;
                    }
                }

                

                function validateDescription() {
                    const description = descriptionInput.value.trim();
                    if (!description) {
                        showPopover('description', 'Description cannot be empty.');
                        return false;
                    } else {
                        hidePopover('description');
                        return true;
                    }
                }

                




                function showPopover(inputId, message) {
                    hidePopover(inputId); // Remove existing popover if any

                    const inputField = document.getElementsByName(inputId)[0];
                    if (!inputField) {
                        // If the input field is not found, exit the function
                        return;
                    }

                    const popover = document.createElement('div');
                    popover.className = 'custom-popover';
                    popover.textContent = message;

                    // Set styles for the popover
                    popover.style.color = 'white'; // Text color
                    popover.style.backgroundColor = 'red'; // Background color (you can change it as needed)

                    const parentElement = inputField.parentElement;
                    if (parentElement) {
                        parentElement.appendChild(popover);
                    }
                }

                function hidePopover(inputId) {
                    const inputField = document.getElementsByName(inputId)[0];
                    if (!inputField) {
                        // If the input field is not found, exit the function
                        return;
                    }

                    const existingPopover = inputField.parentElement.querySelector('.custom-popover');
                    if (existingPopover) {
                        existingPopover.remove();
                    }
                }


                


                form.addEventListener('submit', function (event) {
                    if (!validateName() ||  !validateDescription() ) {
                        event.preventDefault();
                    }
                    // Add other form validations as needed
                });

                nameInput.addEventListener('input', validateName);
                
                descriptionInput.addEventListener('input', validateDescription);
                
            });






        </script>

        <!-- Your existing HTML code -->





        <%- include('../layouts/admin-footer') -%>